import os, time

inventory = []

try:
  f = open("Inventory.txt", "r")
  inventory = eval(f.read())
  f.close()

except Exception as err:
  inventory = []

def add():
  item = input("Add an item:\n>").title().strip()
  inventory.append(item)
  print(f"{item} added to inventory")
  time.sleep(1)
  os.system("clear")


def remove():
  itemR = input("The name of the item to be removed:\n>").strip().title()
  if itemR not in inventory:
    print(f"{itemR} not in inventory")
    print()
  else:
    print(f"\nItem to remove: {itemR}")
    confirm = input(f"Are you sure you want to remove {itemR}, Y/N?\n> ").strip().title()
    if confirm == "Y":
      inventory.remove(itemR)
      print(f"{itemR} removed from inventory")
    else:
      print("Removal cancelled")
  time.sleep(1)
  os.system("clear")


def view():
  itemCount = {}
  for item in inventory:
    if item in itemCount:
      itemCount[item] += 1
    else:
      itemCount[item] = 1
  type = input("Would you like to view your entire inventory or a specific item? All = A/Item = I:\n>").strip().title()
  if type == "A":
    for item, count in itemCount.items():
      print(item, "amount: ", count, end="\t|\t")
    print()
  elif type == "I":
    seek = input("What is the item you are looking for?\n>").strip().title()
    if seek in itemCount:
      print(seek, "amount:", itemCount[seek], end="\t|\t")    
    else:
      print(f"{seek} not found in inventory")
    print()
  

while True:
  print("InventoryðŸŽ’")
  menu = input("1: Add 2:Remove 3:View\n> ").strip()
  if menu == "1":
    add()
  elif menu == "2":
    remove()
  elif menu == "3":
    view()
  else:
    print("Invalid input")
    print()


  f = open("Inventory.txt", "w")
  f.write(str(inventory))
  f.close()
